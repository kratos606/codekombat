import{c as p,r as d,a as h,u as g,j as e,d as x,b as f}from"./index-Cr8A9Rf2.js";import{u as b,b as y,a as v}from"./auth-CONzj9NW.js";import{B as j}from"./app.config-D37xPo_M.js";import{T as o}from"./Typography-BrVHJbYN.js";import{T as n}from"./TextField-Dk-jm_kD.js";import{B as w}from"./Button-BFet-ylQ.js";import"./TransitionGroupContext-DL2JJipS.js";import"./useControlled-CI7obck9.js";import"./List-Dju0JQym.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./Paper-Cu02VlDT.js";import"./Grow-Cy0qAfMJ.js";import"./ButtonBase-0A2tDIOC.js";function P(){const{email:i}=p(),[r,s]=d.useState({}),{error:l}=h(a=>a.auth),m=g(),u=b();d.useEffect(()=>{s(a=>({...a,email:i}))},[i]);const c=async a=>{a.preventDefault();try{let t=await f.post(`${j}/api/auth/register`,{username:r.username,email:r.email,password:r.password});if(t.data.error)return u(y(t.data.error));u(v(t.data)),m("/user")}catch(t){console.error(t)}};return e.jsxs("form",{className:"form",onSubmit:c,children:[e.jsx(o,{variant:"h3",children:"Register"}),l&&e.jsx(o,{variant:"body1",color:"error",children:l}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-arround",gap:"1rem"},children:[e.jsx("a",{style:{textDecoration:"none",border:"2px solid white",padding:".5rem 1rem",borderRadius:".3rem"},href:"/api/auth/google-login",children:"Google"}),e.jsx("a",{style:{textDecoration:"none",border:"2px solid white",padding:".5rem 1rem",borderRadius:".3rem"},href:"/api/auth/facebook-login",children:"Facebook"}),e.jsx("a",{style:{textDecoration:"none",border:"2px solid white",padding:".5rem 1rem",borderRadius:".3rem"},href:"/api/auth/github-login",children:"Github"})]}),e.jsx(n,{className:"input",variant:"outlined",label:"Username",type:"text",value:r.username||"",color:"success",style:{width:"100%"},onChange:a=>s({...r,username:a.target.value}),fullWidth:!0}),e.jsx(n,{className:"input",variant:"outlined",label:"E-mail",type:"email",disabled:!!i,value:r.email||"",color:"success",style:{width:"100%"},onChange:a=>s({...r,email:a.target.value}),fullWidth:!0}),e.jsx(n,{className:"input",variant:"outlined",label:"Password",value:r.password||"",color:"success",style:{width:"100%"},onChange:a=>s({...r,password:a.target.value}),type:"password",fullWidth:!0}),e.jsx(w,{className:"btn btn-primary",variant:"contained",type:"submit",color:"primary",sx:{paddingBlock:".5rem"},fullWidth:!0,children:"Register"}),e.jsxs(o,{variant:"h6",children:["Already have an account? ",e.jsx(x,{to:"/login",children:"Login"})]})]})}export{P as default};
