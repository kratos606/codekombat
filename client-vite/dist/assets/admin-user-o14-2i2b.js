import{r as o,u as x,c as y,b as m,j as e}from"./index-Cr8A9Rf2.js";import{B as d}from"./app.config-D37xPo_M.js";import{B as n}from"./Box-D-8UTyy0.js";import{T as r}from"./TextField-Dk-jm_kD.js";import{T as f}from"./Typography-BrVHJbYN.js";import{B as l}from"./Button-BFet-ylQ.js";import{D as j,a as b,b as k}from"./DialogTitle-_OqRnGfu.js";import"./TransitionGroupContext-DL2JJipS.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./useControlled-CI7obck9.js";import"./List-Dju0JQym.js";import"./Paper-Cu02VlDT.js";import"./Grow-Cy0qAfMJ.js";import"./ButtonBase-0A2tDIOC.js";function W(){const[p,c]=o.useState(!1),h=x(),{id:i}=y(),[s,t]=o.useState({}),u=()=>{c(!1)},g=async()=>{const a=await m.put(`${d}/api/user/admin/${i}`,{username:s.username,email:s.email,isAdmin:s.isAdmin,password:s.password});console.log(a)};return o.useEffect(()=>{m.get(`${d}/api/user/${i}`).then(a=>{t(a.data)})},[i]),e.jsx(e.Fragment,{children:e.jsx(n,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(n,{className:"glass",sx:{width:"min(700px,90%)"},children:[e.jsx("h1",{style:{marginBottom:"3rem"},children:"User"}),e.jsx(r,{variant:"outlined",label:"ID",size:"big",color:"success",style:{width:"100%",marginBlock:"1rem"},InputProps:{readOnly:!0},InputLabelProps:{style:{fontWeight:"bold"}},value:s._id||"",disabled:!0}),e.jsx(r,{variant:"outlined",label:"Username",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},value:s.username||"",onChange:a=>{t({...s,username:a.target.value})}}),e.jsx(r,{variant:"outlined",label:"Email",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},value:s.email||"",onChange:a=>{t({...s,email:a.target.value})}}),e.jsx(f,{variant:"h6",style:{marginBlock:"1rem",fontWeight:"400"},className:"title",children:"Is an admin ?"}),e.jsxs(n,{className:"admin",children:[e.jsxs("label",{style:{display:"block",marginBlock:"1rem",marginInlineStart:"1rem"},children:[e.jsx("input",{type:"radio",name:"admin",style:{display:"none",appearance:"none"},checked:s.isAdmin===!0,onChange:()=>{t({...s,isAdmin:!0})}}),e.jsx("span",{className:"check"}),"Yes"]}),e.jsxs("label",{style:{display:"block",marginBlock:"1rem",marginInlineStart:"1rem"},children:[e.jsx("input",{type:"radio",name:"admin",style:{display:"none",appearance:"none"},checked:s.isAdmin===!1,onChange:()=>{t({...s,isAdmin:!1})}}),e.jsx("span",{className:"uncheck"}),"No"]})]}),e.jsx(r,{variant:"outlined",label:"Password",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},value:s.password||"",onChange:a=>{t({...s,password:a.target.value})}}),e.jsxs(n,{sx:{display:"flex",gap:"1rem",marginBlockStart:"1rem"},children:[e.jsx(l,{variant:"contained",sx:{flex:1},onClick:()=>{g()},children:"Update"}),e.jsx(l,{variant:"contained",sx:{flex:1},onClick:()=>{c(!0)},children:"Delete"}),e.jsxs(j,{open:p,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(b,{id:"alert-dialog-title",children:"Are you sure you want to delete this user ?"}),e.jsxs(k,{children:[e.jsx(l,{onClick:async()=>{await m.delete(`${d}/api/user/${i}`).then(a=>{h("/admin")})},autoFocus:!0,children:"Agree"}),e.jsx(l,{onClick:u,children:"Disagree"})]})]})]})]})})})}export{W as default};
