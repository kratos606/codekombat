import{i as m,j as e,u as I,r as o,b as q}from"./index-Cr8A9Rf2.js";import{r as x}from"./createSvgIcon-CxEhepF-.js";import{B as z}from"./app.config-D37xPo_M.js";import{B as d}from"./Box-D-8UTyy0.js";import{T as O}from"./TextField-Dk-jm_kD.js";import"./TransitionGroupContext-DL2JJipS.js";import"./useControlled-CI7obck9.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./List-Dju0JQym.js";import"./Paper-Cu02VlDT.js";import"./Grow-Cy0qAfMJ.js";var v={},B=m;Object.defineProperty(v,"__esModule",{value:!0});var R=v.default=void 0,F=B(x()),E=e;R=v.default=(0,F.default)((0,E.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var j={},T=m;Object.defineProperty(j,"__esModule",{value:!0});var w=j.default=void 0,U=T(x()),W=e;w=j.default=(0,U.default)((0,W.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var b={},G=m;Object.defineProperty(b,"__esModule",{value:!0});var $=b.default=void 0,H=G(x()),g=e;$=b.default=(0,H.default)([(0,g.jsx)("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),(0,g.jsx)("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")],"KeyboardDoubleArrowLeft");var _={},J=m;Object.defineProperty(_,"__esModule",{value:!0});var N=_.default=void 0,Q=J(x()),L=e;N=_.default=(0,Q.default)([(0,L.jsx)("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),(0,L.jsx)("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight");const V=({usersPerPage:s,totalUsers:i,paginate:l,currentPage:t})=>{const c=[];if(t>=Math.ceil(i/s)-4&&t-4>0)for(let a=Math.ceil(i/s)-4;a<=Math.ceil(i/s);a++)c.push(a);else if(t+4>Math.ceil(i/s)){let a=Math.ceil(i/s)-t===0?Math.ceil(i/s)-t+1:Math.ceil(i/s)-t;for(let r=a;r<=Math.ceil(i/s);r++)c.push(r)}else for(let a=t;a<=t+4;a++)c.push(a);const u=()=>{t>1&&l(t-1)},f=()=>{t<Math.ceil(i/s)&&l(t+1)};return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>l(1),children:e.jsx($,{})}),e.jsx("button",{className:"pagination-btn",onClick:()=>u(),children:e.jsx(R,{})}),c.map((a,r)=>e.jsx("button",{className:"pagination-btn",variant:"contained",onClick:()=>l(a),children:a},r)),e.jsx("button",{className:"pagination-btn",onClick:()=>f(),children:e.jsx(w,{})}),e.jsx("button",{className:"pagination-btn",onClick:()=>l(Math.ceil(i/s)),children:e.jsx(N,{})})]})};function le(){const s=I(),[i,l]=o.useState(null),[t,c]=o.useState([]),[u,f]=o.useState([]),[a,r]=o.useState(null),[M,S]=o.useState(1),[p]=o.useState(4);o.useEffect(()=>{(async()=>{r(!0);const h=await q.get(`${z}/api/user`);c(h.data),f([...h.data]),r(!1)})()},[]);const y=M*p,C=y-p,A=u.slice(C,y),D=n=>S(n);return e.jsxs(e.Fragment,{children:[e.jsx(d,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(d,{className:"glass",sx:{width:"min(90%,500px)",padding:"20px 35px"},children:[e.jsx("h1",{children:"Users"}),e.jsx(O,{variant:"outlined",label:"Search",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},onChange:n=>{const h=n.target.value,k=t.filter(K=>K.username.toLowerCase().includes(h.toLowerCase()));f(k)}}),a?e.jsx("h1",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"users-container",children:A.map(n=>e.jsxs(d,{className:n.isAdmin?"user-container admin":"user-container",onClick:()=>{l(n)},children:[e.jsx(d,{className:"user-name",children:n.username}),e.jsx(d,{className:"user-email",children:n.email})]},n._id))}),e.jsx(V,{currentPage:M,usersPerPage:p,totalUsers:u.length,paginate:D})]})]})}),i?s(`/admin/user/${i._id}`):null]})}export{le as default};
