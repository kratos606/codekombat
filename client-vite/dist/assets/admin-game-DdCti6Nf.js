import{i as g,j as e,r as a,u as v,b as p}from"./index-Cr8A9Rf2.js";import{r as j}from"./createSvgIcon-CxEhepF-.js";import{V as S}from"./vanilla-tilt.es2015-DCmtUSq0.js";import{B as f}from"./app.config-D37xPo_M.js";import{B as b}from"./Button-BFet-ylQ.js";import{S as y,A as _}from"./Snackbar-Qo2WOVWR.js";import"./TransitionGroupContext-DL2JJipS.js";import"./useControlled-CI7obck9.js";import"./ButtonBase-0A2tDIOC.js";import"./useSlot-92GMif-5.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./Paper-Cu02VlDT.js";import"./ClickAwayListener-CBdr3TRi.js";import"./Grow-Cy0qAfMJ.js";var c={},C=g;Object.defineProperty(c,"__esModule",{value:!0});var h=c.default=void 0,G=C(j()),w=e;h=c.default=(0,G.default)((0,w.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function R(l){const{options:r,...i}=l,o=a.useRef(null);return a.useEffect(()=>{S.init(o.current,r)},[r]),e.jsx("div",{ref:o,...i})}function P(){const l={max:15,speed:200,glare:!0,"max-glare":1},[r,i]=a.useState([]),[o,n]=a.useState(!1),[u,m]=a.useState(null),d=v(),x=async t=>{await p.delete(`${f}/api/game/${t}`).then(s=>{n(!0),m(s.data.success?"Game deleted successfully":"Game delete failed")}).catch(()=>{n(!0),m("Game delete failed")}),i(r.filter(s=>s._id!==t))};return a.useEffect(()=>{(async()=>{const s=await p.get(`${f}/api/game`);i(s.data)})()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},children:r.map(t=>e.jsxs(R,{className:"box",options:l,onClick:()=>d(`/admin/game/${t._id}`),children:[e.jsx("div",{children:e.jsx("p",{children:t.name})}),e.jsx(b,{sx:{all:"unset",cursor:"pointer",position:"absolute",top:"1rem",right:"1rem",height:"3rem",width:"3rem",background:"rgba(0,0,0,0.3)",textAlign:"center",borderRadius:"50%","&:hover":{backgroundColor:"#2196f3"}},onClick:s=>{x(t._id),s.stopPropagation()},children:e.jsx(h,{sx:{fontSize:"2rem"}})})]}))}),e.jsx("button",{className:"create-game",onClick:()=>d("/admin/game/new"),children:"+"}),e.jsx(y,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,autoHideDuration:6e3,onClose:()=>{n(!1)},children:e.jsx(_,{severity:u==="Game delete failed"?"error":"success",onClose:()=>{n(!1)},variant:"filled",sx:{width:"100%"},children:u})})]})}export{P as default};
