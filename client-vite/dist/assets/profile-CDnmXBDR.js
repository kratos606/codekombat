import{r as o,u as h,a as f,b as l,j as e}from"./index-Cr8A9Rf2.js";import{N as j}from"./navbar-CmAvifw_.js";import{B as n}from"./app.config-D37xPo_M.js";import{B as m}from"./Box-D-8UTyy0.js";import{T as d}from"./TextField-Dk-jm_kD.js";import{B as i}from"./Button-BFet-ylQ.js";import{D as b,a as v,b as y}from"./DialogTitle-_OqRnGfu.js";import"./createSvgIcon-CxEhepF-.js";import"./TransitionGroupContext-DL2JJipS.js";import"./useControlled-CI7obck9.js";import"./Avatar-BzfL92DL.js";import"./useSlot-92GMif-5.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./Typography-BrVHJbYN.js";import"./List-Dju0JQym.js";import"./Paper-Cu02VlDT.js";import"./Grow-Cy0qAfMJ.js";import"./ButtonBase-0A2tDIOC.js";function _(){const[u,c]=o.useState(!1),x=h(),{user:s}=f(t=>t.auth),[a,r]=o.useState({}),p=()=>{c(!1)},g=async()=>{await l.put(`${n}/api/user/${s._id}`,{username:a.username,email:a.email,password:a.password})};return o.useEffect(()=>{l.get(`${n}/api/user/${s._id}`).then(t=>{r(t.data)})},[s]),e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(m,{className:"glass",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"min(90vw,500px)",height:"max-content"},children:e.jsxs(m,{children:[e.jsx("h1",{style:{marginBottom:"3rem",textAlign:"center"},children:"Profile"}),e.jsx(d,{variant:"outlined",label:"Username",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},value:a.username||"",onChange:t=>{r({...a,profilename:t.target.value})}}),e.jsx(d,{variant:"outlined",label:"Email",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},InputLabelProps:{style:{fontWeight:"bold"}},value:a.email||"",onChange:t=>{r({...a,email:t.target.value})}}),e.jsx(d,{variant:"outlined",label:"Password",size:"medium",color:"success",style:{width:"100%",marginBlock:"1rem"},type:"password",InputLabelProps:{style:{fontWeight:"bold"}},value:a.password||"",onChange:t=>{r({...a,password:t.target.value})}}),e.jsxs(m,{sx:{display:"flex",gap:"1rem",marginBlockStart:"1rem"},children:[e.jsx(i,{variant:"contained",sx:{flex:1},onClick:()=>{g()},children:"Update"}),e.jsx(i,{variant:"contained",sx:{flex:1},onClick:()=>{c(!0)},children:"Delete"}),e.jsxs(b,{open:u,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(v,{id:"alert-dialog-title",children:"Are you sure you want to delete this user ?"}),e.jsxs(y,{children:[e.jsx(i,{onClick:async()=>{await l.delete(`${n}/api/user/${s._id}`).then(t=>{x("/")})},autoFocus:!0,children:"Agree"}),e.jsx(i,{onClick:p,children:"Disagree"})]})]})]})]})})]})}export{_ as default};
