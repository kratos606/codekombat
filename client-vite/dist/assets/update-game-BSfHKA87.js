import{c as D,r as s,b as S,j as e,d as F}from"./index-Cr8A9Rf2.js";import{B as y}from"./app.config-D37xPo_M.js";import{T as P,d as R,S as v,E as w,F as G,K as E,a as K}from"./game-CD8JMo-0.js";import{R as L}from"./quill.snow-Bss2rgqn.js";import{B as $}from"./Button-BFet-ylQ.js";import{T as n}from"./Typography-BrVHJbYN.js";import{T as C}from"./TextField-Dk-jm_kD.js";import{D as A}from"./listItemIconClasses-DEEyI5DT.js";import{S as H,A as O}from"./Snackbar-Qo2WOVWR.js";import"./TransitionGroupContext-DL2JJipS.js";import"./createSvgIcon-CxEhepF-.js";import"./useControlled-CI7obck9.js";import"./Box-D-8UTyy0.js";import"./resolveComponentProps-BZDD0Qh9.js";import"./List-Dju0JQym.js";import"./Paper-Cu02VlDT.js";import"./ButtonBase-0A2tDIOC.js";import"./Grow-Cy0qAfMJ.js";import"./useSlot-92GMif-5.js";import"./ClickAwayListener-CBdr3TRi.js";const b=`import unittest
from temp.program import *

class TestProgram(unittest.TestCase):

    def test_case_1(self):
        # write your test cases

if __name__ == '__main__':
    suite = unittest.defaultTestLoader.loadTestsFromTestCase(TestProgram)
    runner = unittest.TextTestRunner(verbosity=2)
    runner.run(suite)`;function me(){const{id:l}=D(),[T,h]=s.useState(!1),[a,o]=s.useState({name:"",description:"",pts:0}),[u,c]=s.useState(localStorage.getItem("code")||b),[k,z]=s.useState(""),[x,f]=s.useState(""),[B,r]=s.useState(!1),[g,j]=s.useState(null),[d,I]=s.useState(localStorage.getItem("theme")||"dracula"),[m,N]=s.useState(localStorage.getItem("keymap")||"sublime"),[p,W]=s.useState(localStorage.getItem("fontSize")||14);s.useEffect(async()=>{await S.get(`${y}/api/game/${l}`).then(t=>{o(i=>({...i,name:t.data.name,pts:t.data.pts,description:t.data.description})),f(t.data.codeBase),c(t.data.tester),z(t.data.testCases.map(i=>i.join(" ")).join(`
`))})},[l]);const _=async()=>{const t={name:a.name,description:a.description,pts:a.pts,codeBase:x,tester:u,testCases:k.split(`
`).map(i=>i.split(" "))};console.log(t),await S.put(`${y}/api/game/${l}`,t).then(i=>{r(!0),j(i.data.success?"Game updated successfully":"Game update failed")}).catch(()=>{r(!0),j("Game update failed")})};return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{style:{position:"relative",top:0,left:0,width:"100%",height:"80px",paddingInline:"1rem",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[e.jsx("div",{style:{display:"flex",gap:"1rem"},children:e.jsx(F,{to:"/user",style:{all:"unset"},children:e.jsx("button",{style:{color:"white",textTransform:"none",fontFamily:'"Open Sans", Helvetica, Arial, sans-serif',fontSize:"18px",backgroundColor:"#626ee3",width:"160px",height:"40px",borderRadius:"0 0 5px 5px",padding:"1.2rem .5rem",display:"flex",justifyContent:"space-around",alignItems:"center"},variant:"filled",onClick:()=>localStorage.removeItem("code"),children:e.jsx("span",{children:"CodeKombat"})})})}),e.jsx(P,{title:"Settings",style:{color:"#001528",width:"max-content",padding:"1rem"},children:e.jsx($,{variant:"outlined",id:"button",className:"Button",onClick:()=>h(!0),children:e.jsx(R,{sx:{fontSize:"2rem"}})})})]}),e.jsxs(v,{className:"split main",minSize:0,sizes:[50,50],children:[e.jsx("div",{className:"section",style:{height:"100%",overflow:"hidden"},children:e.jsxs("div",{className:"glass",style:{padding:"2rem",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx(n,{variant:"h4",children:"Update Game"}),e.jsx(C,{className:"input",variant:"outlined",label:"Name",type:"text",value:a.name,color:"success",InputLabelProps:{style:{fontWeight:"bold"},shrink:a.name!=""},sx:{marginBlockStart:"1rem",minWidth:"220px"},onChange:t=>o({...a,name:t.target.value}),fullWidth:!0}),e.jsx(C,{className:"input",variant:"outlined",label:"Points",type:"number",value:a.pts,color:"success",InputLabelProps:{style:{fontWeight:"bold"},shrink:a.pts!=""},sx:{marginBlockStart:"1rem",minWidth:"220px"},onChange:t=>o({...a,pts:t.target.value}),fullWidth:!0}),e.jsx(L,{theme:"snow",value:a.description||"",onChange:t=>o(i=>({...i,description:t})),style:{marginBlockStart:"1rem",minWidth:"220px",flex:1,minHeight:"100px"}})]})}),e.jsxs(v,{className:"split column",direction:"vertical",minSize:0,sizes:[60,40],style:{overflow:"hidden"},children:[e.jsx("div",{className:"section",children:e.jsx("div",{className:"glass",children:e.jsx(w,{code:u,setCode:c,title:"Test",keymap:m,theme:d,fontSize:p,button:"Submit Test",store:!0,onClick:()=>_(),onReset:()=>c(b)})})}),e.jsx("div",{className:"section",children:e.jsx("div",{className:"glass",children:e.jsx(w,{code:x,setCode:f,title:"Code Base",keymap:m,theme:d,fontSize:p,show:"off"})})})]})]}),e.jsxs(A,{anchor:"right",open:T,onClose:()=>h(!1),PaperProps:{style:{width:"50%",backgroundColor:"#001528",color:"white",padding:"1rem"}},children:[e.jsx(n,{variant:"h5",sx:{color:"white"},children:"Workspace Settings"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20vw"},children:e.jsx(n,{variant:"h6",sx:{color:"white",fontWeight:300},children:"Font Size"})}),e.jsx("td",{children:e.jsx(G,{fontSize:p,setFontSize:W})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20vw"},children:e.jsx(n,{variant:"h6",sx:{color:"white",fontWeight:300},children:"Keymap"})}),e.jsx("td",{children:e.jsx(E,{keymap:m,setKeymap:N})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20vw"},children:e.jsx(n,{variant:"h6",sx:{color:"white",fontWeight:300},children:"Font Size"})}),e.jsx("td",{children:e.jsx(K,{theme:d,setTheme:I})})]})]})]}),e.jsx(H,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:B,autoHideDuration:6e3,onClose:()=>{r(!1)},children:e.jsx(O,{severity:g==="Game update failed"?"error":"success",onClose:()=>{r(!1)},variant:"filled",sx:{width:"100%"},children:g})})]})}export{me as default};
