import{i as g,j as e,u as m,r as h,a as f,d as n,b as x}from"./index-Cr8A9Rf2.js";import{r as v}from"./createSvgIcon-CxEhepF-.js";import{B as u}from"./app.config-D37xPo_M.js";import{B as l}from"./Box-D-8UTyy0.js";import{A as j}from"./Avatar-BzfL92DL.js";import{T as y}from"./Typography-BrVHJbYN.js";import{B as a}from"./Button-BFet-ylQ.js";var d={},b=g;Object.defineProperty(d,"__esModule",{value:!0});var p=d.default=void 0,C=b(v()),w=e;p=d.default=(0,C.default)((0,w.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function S(r){let s=0,t;for(t=0;t<r.length;t+=1)s=r.charCodeAt(t)+((s<<5)-s);let i="#";for(t=0;t<3;t+=1){const c=s>>t*8&255;i+=`00${c.toString(16)}`.slice(-2)}return i}function k(r){return{sx:{bgcolor:S(r)},children:r[0].toUpperCase()}}function _(){const r=m(),[s,t]=h.useState(!1),{user:i}=f(o=>o.auth),c=async()=>{const{data:o}=await x.get(`${u}/api/user/certificate`);o.certificate&&(window.location=`${u}/certificate/${o.certificate}`)};return e.jsxs("div",{style:{width:"100vw",height:"80px",display:"flex",alignItems:"center",justifyContent:"space-between",marginInline:"1rem"},children:[e.jsx(n,{style:{all:"unset",cursor:"pointer"},to:"/",children:e.jsx("img",{className:"logo",src:"/mortal.png",alt:"img"})}),i?e.jsxs(l,{sx:{marginRight:"2rem"},children:[e.jsx("button",{style:{all:"unset",cursor:"pointer"},onClick:()=>t(!s),children:e.jsx(j,{...k(i.username)})}),s&&e.jsxs(l,{sx:{width:"200px",position:"absolute",backgroundColor:"#15314b",transform:"translate(-160px,20px)",display:"flex",flexDirection:"column",zIndex:1e3},children:[e.jsx(l,{sx:{width:"100%",textAlign:"center",padding:"1rem"},children:e.jsx(y,{variant:"h6",children:i.points})}),localStorage.getItem("Done")==="yes"&&e.jsx(l,{sx:{width:"100%",textAlign:"center"},children:e.jsxs(a,{color:"success",fullWidth:!0,onClick:()=>c(),children:["Get ",e.jsx("br",{}),"Certificate"]})}),e.jsx(n,{to:"/user/profile",style:{all:"unset"},children:e.jsx(a,{variant:"text",color:"success",fullWidth:!0,children:"Profile"})}),e.jsx(a,{variant:"text",color:"success",fullWidth:!0,onClick:async()=>{await x.get(`${u}/api/auth/logout`),r("/")},children:"Logout"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{color:"primary",className:"navbar-menu",onClick:()=>{document.querySelector(".group-btn").classList.toggle("active")},children:e.jsx(p,{})}),e.jsxs("div",{className:"group-btn",children:[e.jsx(n,{style:{all:"unset",cursor:"pointer"},onClick:()=>{document.querySelector(".group-btn").classList.toggle("active")},to:"/login",children:e.jsx(a,{variant:"contained",color:"primary",className:"navbar-btn",children:"Login"})}),e.jsx(n,{style:{all:"unset",cursor:"pointer"},onClick:()=>{document.querySelector(".group-btn").classList.toggle("active")},to:"/register",children:e.jsx(a,{variant:"contained",color:"primary",className:"navbar-btn",children:"Register"})})]})]})]})}export{_ as N};
